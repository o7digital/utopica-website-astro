import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{T as b}from"./tracked-cta-button.D1w7ln71.js";import{S as w}from"./scroll-indicator.DsHLgGiR.js";import{r as i}from"./index.yGrMsBkE.js";import{j as o}from"./proxy.B_0ModbL.js";import{C as k}from"./calendar.DbLGkVXL.js";import{c as v}from"./createLucideIcon.C-_dj3WT.js";import{U as C}from"./users.pOx7OTlH.js";import{A as E}from"./arrow-right.Cc-AFwqQ.js";import"./index.yBjzXJbu.js";import"./Link.BommrIeR.js";import"./button.u-7C4zwF.js";import"./utils.09jiQjc0.js";const p=v("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]);let a={data:null,timestamp:0,promise:null};const T={preload:!1,staleTime:300*1e3,cacheTime:600*1e3,refetchOnMount:!0};async function h(){return a.promise||(a.promise=(async()=>{try{const s=Date.now(),t=await fetch(`/api/workshops?t=${s}`,{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const l=await t.json();return a.data=l,a.timestamp=Date.now(),a.promise=null,l}catch(s){throw a.promise=null,s}})()),a.promise}function L(){return h()}function S(s={}){const t={...T,...s},[l,r]=i.useState(!0),[f,u]=i.useState(null),m=i.useMemo(()=>!a.data||!a.timestamp?!0:Date.now()-a.timestamp>t.staleTime,[t.staleTime]),x=i.useMemo(()=>!a.data||!a.timestamp?!0:Date.now()-a.timestamp>t.cacheTime,[t.cacheTime]),c=i.useCallback(async()=>{try{if(u(null),a.data&&!x){r(!1);return}r(!0),await h(),r(!1)}catch(n){console.error("Error fetching workshops:",n),u(n instanceof Error?n.message:"Unknown error"),r(!1)}},[x]),g=i.useCallback(async()=>{a.data=null,a.timestamp=0,await c()},[c]);i.useEffect(()=>{t.preload&&L().catch(console.error),t.refetchOnMount||m?c():a.data&&r(!1)},[t.preload,t.refetchOnMount,m,c]);const d=i.useMemo(()=>a.data?.workshops?a.data.workshops.map(n=>({...n,date:new Date(n.date)})):[],[a.data]),y=i.useMemo(()=>{const n=d.filter(N=>N.status==="upcoming");return n.length>0?n[0]:null},[d]),j=i.useMemo(()=>a.data?.lastUpdated?new Date(a.data.lastUpdated):null,[a.data]);return{workshops:d,nextWorkshop:y,loading:l,error:f,lastUpdated:j,refetch:g,isStale:m,isCached:!!a.data?.cached}}var M={};function z(){const{nextWorkshop:s,loading:t,error:l}=S({preload:!0,staleTime:3e5,refetchOnMount:!1}),r=i.useMemo(()=>s?{date:s.date,title:s.title,spotsLeft:s.maxParticipants-s.currentParticipants,maxParticipants:s.maxParticipants}:null,[s]);return e.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-background pt-20","aria-labelledby":"sprint-hero-title",children:[e.jsx("div",{className:"absolute inset-0 -z-10","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-grid-slate-100 [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)]"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24",children:e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[e.jsxs(o.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center gap-3 bg-primary/10 text-primary px-4 py-2 rounded-full mb-6",children:[e.jsx(k,{className:"h-5 w-5"}),t?e.jsx("span",{className:"font-semibold",children:"Cargando próximo grupo..."}):r?e.jsxs("span",{className:"font-semibold",children:["Próximo Grupo: ",r.date.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})]}):l?e.jsx("span",{className:"font-semibold text-muted-foreground",children:"Error al cargar fechas"}):e.jsx("span",{className:"font-semibold",children:"Próximamente nuevas fechas"})]}),e.jsxs(o.h1,{id:"sprint-hero-title",className:"text-4xl md:text-6xl lg:text-7xl font-bold tracking-tight mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[e.jsx("span",{className:"block",children:"Haces un Servicio Extraordinario"}),e.jsx("span",{className:"block mt-2 text-primary",children:"Pero Nadie lo Sabe"})]}),e.jsx(o.p,{className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},children:"Es hora de que el mercado entienda por qué tus clientes actuales te recomiendan tanto"}),e.jsx(o.div,{className:"max-w-3xl mx-auto mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.5},children:e.jsx("div",{className:"bg-card/50 backdrop-blur rounded-xl p-6 border border-primary/20",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"En 4 semanas construyes un mensaje"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full","aria-hidden":"true"}),e.jsx("span",{className:"font-semibold",children:"Claro"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"como el agua"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full","aria-hidden":"true"}),e.jsx("span",{className:"font-semibold",children:"Relevante"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"para tu cliente ideal"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full","aria-hidden":"true"}),e.jsx("span",{className:"font-semibold",children:"Único"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"imposible de copiar"})]})]})]}),e.jsxs("div",{className:"border-l border-primary/20 pl-6",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Que logra"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-primary","aria-hidden":"true"}),e.jsx("span",{className:"text-sm",children:"Generar curiosidad genuina"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-primary","aria-hidden":"true"}),e.jsx("span",{className:"text-sm",children:"Atraer clientes ideales"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-primary","aria-hidden":"true"}),e.jsx("span",{className:"text-sm",children:"Acelerar tu ciclo de ventas"})]})]})]})]})})}),e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.6},className:"inline-flex items-center gap-2 text-lg mb-6",children:[e.jsx(C,{className:"h-5 w-5 text-primary"}),t||!r?e.jsx("span",{className:"text-muted-foreground",children:"Lugares limitados"}):r.spotsLeft>0?e.jsx("span",{className:"font-semibold text-primary",children:r.spotsLeft===1?"⚠️ Último lugar disponible":r.spotsLeft===2?"Solo quedan 2 lugares":`Solo quedan ${r.spotsLeft} lugares`}):e.jsx("span",{className:"font-semibold text-destructive",children:"Grupo completo - Lista de espera"})]}),e.jsx(o.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:e.jsxs(b,{href:M.NEXT_PUBLIC_RECLAIM_URL||"https://app.reclaim.ai/m/gael/sesion-estrategica-claridad-comercial",target:"_blank",trackingLocation:"sprint_hero",size:"lg",className:"text-base px-8 py-6 h-auto bg-primary hover:bg-primary/90",children:["Agendar Sesión de Claridad",e.jsx(E,{className:"ml-2 h-5 w-5"})]})}),e.jsx(o.p,{className:"mt-6 text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},children:"Inversión: $32,500 MXN + IVA • Garantía: Trabajo hasta lograr tu Claridad"})]})}),e.jsx(w,{})]})}export{z as SprintHero};
